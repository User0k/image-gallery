(this["webpackJsonpimage-gallery"]=this["webpackJsonpimage-gallery"]||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),i=n.n(c),s=n(17),o=n(12),l=n(213),j=n(35),u=n.n(j),b=n(3),d=n(103),h=n(6),x=n(209),m=n(221),p=n(216),O=n(211),f=n(1);var g=function(e){var t=e.user;return Object(f.jsx)(p.a,{sx:{pl:{xs:0,sm:"12px"}},size:"large",href:t.links.html,target:"_blank",children:Object(f.jsx)(O.a,{alt:t.username,src:t.profile_image.small,sx:{width:30,height:30}})})};var v=function(e){var t=e.image,n=t.description,a=t.user;return Object(f.jsx)(m.a,{sx:{display:"none",background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.2) 70%, rgba(0,0,0,0) 100%)",pl:{sm:0,xs:"0.7rem"}},title:a.username,subtitle:null!==n&&void 0!==n?n:"Unnamed picture",actionIcon:Object(f.jsx)(g,{user:a}),actionPosition:"left"})},w=n(196),y=n(205),k=n(95),S=n.n(k),z=n(96),C=n.n(z);var I=function(e){var t=e.id,n=Object(a.useState)(localStorage.getItem(t)||!1),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(f.jsx)(y.a,{className:"likeButton",icon:Object(f.jsx)(S.a,{sx:{color:"lightgrey",fontSize:24}}),checkedIcon:Object(f.jsx)(C.a,{sx:{fontSize:24}}),color:"error",checked:Boolean(c),onChange:function(){localStorage.getItem(t)?(i(!1),localStorage.removeItem(t)):(i(!0),localStorage.setItem(t,!0))}})},E=n(100),B=n.n(E),L=n(203),_=n(210),R=n(224),T=Object(h.a)(R.a)((function(e){var t,n=e.theme;return t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,maxHeight:"calc(90vh - 10px)",width:"90vw"},Object(b.a)(t,n.breakpoints.down("md"),{width:"95vw"}),Object(b.a)(t,"overflowY","auto"),t})),D=n(214),N=n(97),P=n.n(N),F=Object(a.forwardRef)((function(e,t){var n=e.parsedDate,a=new Date(n);return Object(f.jsxs)(w.a,{sx:{mb:1},direction:"row",alignItems:"center",spacing:1,color:"#777777",children:[Object(f.jsx)(P.a,{sx:{fontSize:16}}),Object(f.jsxs)(D.a,{ref:t,variant:"body2",gutterBottom:!0,component:"div",children:["Published on ",a.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})})),H=n(75),M=function(e,t,n,a){u()({url:"".concat(e,"&w=").concat(a),method:"GET",responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","".concat(n,"-").concat(t,".jpg")),document.body.appendChild(r),r.click(),document.body.removeChild(r)}))};var U=function(e){var t=parseInt(e.height,10),n=parseInt(e.width,10);return[{size:"small",width:640},{size:"medium",width:1080},{size:"large",width:1920},{size:"original",width:n}].reduce((function(e,a,r){var c;return a.width<=n&&(e.push(a),e[r].height=(c=a.width,parseInt(t*c/n))),e}),[])},G=n(217),q=n(225),A=n(98),J=n.n(A),X=n(199),Y=n(198),Z=n(222),W=n(202),K=n(207),Q=n(208);var V=function(e){var t=e.image,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],i=r[1],s=Object(a.useRef)(null),l=Object(a.useState)(U(t).length-1),j=Object(o.a)(l,2),u=j[0],b=j[1],d=[U(t)[u].size,U(t)[u].width],h=d[0],x=d[1],m=function(e){s.current&&s.current.contains(e.target)||i(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(q.a,{variant:"contained",ref:s,children:[Object(f.jsxs)(G.a,{sx:{fontSize:{lg:"0.8rem",md:"0.7rem",xs:"0.6rem"},padding:{md:"4px 10px",xs:"2px 10px"}},size:"small",onClick:function(){return M(t.urls.full,t.id,h,x)},children:["Download ",h]}),Object(f.jsx)(G.a,{sx:{padding:{md:"6 16px",xs:"5px"}},onClick:function(){return i((function(e){return!e}))},children:Object(f.jsx)(J.a,{})})]}),Object(f.jsx)(W.a,{open:c,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var n=e.TransitionProps;return Object(f.jsx)(Y.a,Object(H.a)(Object(H.a)({},n),{},{children:Object(f.jsx)(Z.a,{children:Object(f.jsx)(X.a,{onClickAway:m,children:Object(f.jsx)(Q.a,{id:"split-button-menu",children:U(t).map((function(e,t){return Object(f.jsxs)(K.a,{sx:{fontSize:{lg:"1rem",xs:"0.9rem"},minHeight:"2rem"},selected:t===u,onClick:function(e){return function(e,t){b(t),i(!1)}(0,t)},children:[e.size," (",e.width,"x",e.height,")"]},e.size)}))})})})}))}})]})},$=n(218),ee=n(223),te=Object(h.a)("img")((function(e){var t,n=e.theme;return t={display:"block",margin:"0 auto",objectFit:"contain"},Object(b.a)(t,n.breakpoints.down("sm"),{height:"50vw"}),Object(b.a)(t,n.breakpoints.up("sm"),{height:"35vw"}),Object(b.a)(t,"width","auto"),Object(b.a)(t,"cursor","zoom-in"),t})),ne=Object(h.a)("img")((function(){return{display:"block",margin:"0 auto",objectFit:"cover",height:"100%",width:"100%",cursor:"zoom-out"}})),ae=n(99),re=n.n(ae),ce=n(212),ie=Object(a.forwardRef)((function(e,t){var n=e.image,r=e.close,c=Object(a.useState)(!1),i=Object(o.a)(c,2),s=i[0],l=i[1];return Object(f.jsxs)(T,{ref:t,children:[Object(f.jsxs)(w.a,{direction:"row",justifyContent:"space-between",children:[Object(f.jsx)(ee.a,{sx:{padding:"8px"},avatar:Object(f.jsx)(g,{user:n.user}),title:n.user.name,subheader:Object(f.jsxs)(D.a,{variant:"caption",children:["@",n.user.username]})}),Object(f.jsxs)(w.a,{direction:"row",alignItems:"center",children:[Object(f.jsx)(V,{image:n}),Object(f.jsx)(p.a,{sx:{alignSelf:"start"},size:"large",onClick:r,children:Object(f.jsx)(re.a,{})})]})]}),s?Object(f.jsx)(ne,{onClick:function(){return l(!1)},src:n.urls.regular,alt:n.urls.description}):Object(f.jsx)(te,{onClick:function(){return l(!0)},src:n.urls.regular,alt:n.description}),Object(f.jsxs)($.a,{sx:{p:2},children:[Object(f.jsx)(F,{sx:{justifySelf:"center"},parsedDate:n.created_at}),Object(f.jsxs)(w.a,{direction:"row",spacing:1,children:[Object(f.jsx)(D.a,{variant:"subtitle2",component:"div",alignSelf:"center",color:"#777777",children:"Related tags"}),n.tags.map((function(e){return Object(f.jsx)(ce.a,{label:e.title},e.title)}))]})]})]})}));var se=function(e){var t=e.image,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],i=r[1],s=function(){return i(!1)};return Object(f.jsxs)("div",{className:"expandButton",children:[Object(f.jsx)(p.a,{onClick:function(){return i(!0)},children:Object(f.jsx)(B.a,{sx:{color:"lightgrey",fontSize:24}})}),Object(f.jsx)(L.a,{open:c,onClose:s,children:Object(f.jsx)(_.a,{sx:{p:0},children:Object(f.jsx)(ie,{image:t,close:s})})})]})},oe=Object(h.a)(d.a)((function(e){var t=e.theme;return Object(b.a)({display:"flex",width:"auto",marginTop:"80px"},t.breakpoints.down("sm"),{marginTop:"72px"})})),le=Object(h.a)(w.a)((function(){return{display:"none",position:"absolute",top:2,left:"50%",transform:"translateX(-50%)",width:"98%"}}));function je(e){var t=e.images;return Object(f.jsx)(oe,{breakpointCols:{default:3,1100:2,750:1},columnClassName:"masonry-grid_column",children:t.map((function(e){return Object(f.jsxs)(x.a,{sx:{":hover":{"& .MuiImageListItemBar-root, & .topItemBar":{display:"flex",justifyContent:"space-between"}}},children:[Object(f.jsx)("img",{src:e.urls.regular,srcSet:e.urls.regular,alt:e.alt_description,loading:"lazy"}),Object(f.jsxs)(le,{className:"topItemBar",direction:"row",children:[Object(f.jsx)(I,{id:e.id}),Object(f.jsx)(se,{image:e})]}),Object(f.jsx)(v,{image:e})]},e.id)}))})}var ue=n(215);function be(){return Object(f.jsx)("div",{style:{height:"70vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(f.jsx)(ue.a,{size:70})})}var de=n(219),he=n(220),xe=n(101),me=n.n(xe),pe=n(76),Oe=n.n(pe),fe=n(191),ge=Object(h.a)("form")((function(e){var t=e.theme;return{display:"flex",position:"relative",width:"100%",borderRadius:t.shape.borderRadius,backgroundColor:Object(fe.a)(t.palette.common.white,.1),"&:hover":{backgroundColor:Object(fe.a)(t.palette.common.white,.25)}}})),ve=Object(h.a)("div")((function(e){var t,n=e.theme;return t={},Object(b.a)(t,n.breakpoints.down("sm"),{display:"none"}),Object(b.a)(t,n.breakpoints.up("sm"),{display:"inline-flex"}),Object(b.a)(t,"padding",n.spacing(0,2)),Object(b.a)(t,"height","100%"),Object(b.a)(t,"position","absolute"),Object(b.a)(t,"pointerEvents","none"),Object(b.a)(t,"alignItems","center"),Object(b.a)(t,"justifyContent","center"),t})),we=n(206),ye=Object(h.a)(we.a)((function(e){var t,n=e.theme;return{width:"100%",color:"inherit","& .MuiInputBase-input":(t={padding:n.spacing(1,1,1,0)},Object(b.a)(t,n.breakpoints.down("sm"),{paddingLeft:"0.7em"}),Object(b.a)(t,n.breakpoints.up("sm"),{paddingLeft:"calc(1em + ".concat(n.spacing(4),")")}),Object(b.a)(t,"transition",n.transitions.create("width")),t)}}));function ke(e){var t=e.handleInput,n=e.handleSubmit;return Object(f.jsx)(de.a,{sx:{backgroundColor:"black"},children:Object(f.jsxs)(he.a,{children:[Object(f.jsx)(me.a,{sx:{display:{md:"inline-block",sm:"none",xs:"none"},mr:3.3,color:"white"},fontSize:"large"}),Object(f.jsxs)(ge,{onSubmit:n,children:[Object(f.jsx)(ve,{children:Object(f.jsx)(Oe.a,{})}),Object(f.jsx)(ye,{onChange:t,placeholder:"Search images",inputProps:{"aria-label":"search images"}}),Object(f.jsx)($.a,{sx:{flexGrow:1}}),Object(f.jsx)(G.a,{sx:{display:{sm:"inline-flex",xs:"none"}},variant:"contained",size:"small",type:"submit","aria-label":"search",children:"search"}),Object(f.jsx)(p.a,{sx:{display:{sm:"none",xs:"inline-flex"},color:"lightgrey"},type:"submit",children:Object(f.jsx)(Oe.a,{})})]})]})})}var Se=Object(h.a)("div")((function(e){return{maxWidth:"70vw",height:"85vh",margin:e.theme.spacing(0,"auto")}})),ze=Object(h.a)("img")((function(){return{objectFit:"cover",width:"100%",height:"100%",filter:"grayscale(0.5) brightness(0.4)"}})),Ce=Object(h.a)(D.a)((function(e){var t=e.theme;return Object(b.a)({position:"absolute",top:"calc(5vw + 90px)",right:"50%",transform:"translateX(50%) rotate(-1deg)",color:"#fff",textTransform:"uppercase",textShadow:"0 0 5px #fff, 0 0 10px #fff, 0 0 20px #fff, 0 0 40px #0ff, 0 0 80px #0ff, 0 0 90px #0ff, 0 0 100px #0ff"},t.breakpoints.down("md"),{fontSize:"5vw"})}));function Ie(){return Object(f.jsxs)(Se,{children:[Object(f.jsx)(ze,{src:"https://source.unsplash.com/random",alt:"nothing found"}),Object(f.jsx)(Ce,{variant:"h3",children:"Nothing found :("})]})}var Ee=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(1),i=Object(o.a)(c,2),j=i[0],b=i[1],d=Object(a.useState)(1),h=Object(o.a)(d,2),x=h[0],m=h[1],p=Object(a.useState)("fox"),O=Object(o.a)(p,2),g=O[0],v=O[1],w=Object(a.useState)(!1),y=Object(o.a)(w,2),k=y[0],S=y[1],z=Object(a.useState)(!0),C=Object(o.a)(z,2),I=C[0],E=C[1],B="https://api.unsplash.com/search/photos?page=".concat(j,"&query=").concat(g,"&client_id=").concat("3L3xN_sEZyl9Yu2Zrom67ahtzpsqyw4PoHdwMyjGDkM;","&per_page=10");function L(e){var t=e.target.scrollingElement;t.scrollHeight-t.scrollTop<=t.clientHeight+1300&&j<=x&&E(!0)}return Object(a.useEffect)((function(){u.a.get(B).then((function(e){m(e.data.total_pages)}))}),[k]),Object(a.useEffect)((function(){I&&j<=x?u.a.get(B).then((function(e){r([].concat(Object(s.a)(n),Object(s.a)(e.data.results))),b((function(e){return e+1}))})).finally((function(){return E(!1)})):k&&(S(!1),u.a.get(B).then((function(e){return r(e.data.results)})))}),[I,k]),Object(a.useEffect)((function(){return document.addEventListener("scroll",L),function(){return document.removeEventListener("scroll",L)}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ke,{handleInput:function(e){return v(e.target.value)},handleSubmit:function(e){e.preventDefault(),b(1),S(!0)}}),Object(f.jsxs)(l.a,{children:[Object(f.jsx)(je,{images:n}),0===n.length&&!I&&Object(f.jsx)(Ie,{}),Object(f.jsx)("div",{children:I&&Object(f.jsx)(be,{})})]})]})};n(143);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Ee,{})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.1d213057.chunk.js.map